# 02 æœˆä¸‹æ—¬

## å†™ä½œæ€è€ƒ

ç›®å½•æ¥æº
ç®€æ´å¤§æ–¹

- create-react-app çš„é¡¹ç›®åœ¨ mac ä¸‹ç”¨æˆ·ä¸‹çš„ node_modules æ–‡ä»¶å¤¹é‡Œ babel çš„è·¯å¾„ä¼šé«˜äºåœ¨é¡¹ç›®ä¸­çš„è·¯å¾„ï¼Œå¦‚æœç‰ˆæœ¬ä¸åŒå¯èƒ½ä¼šæœ‰å½±å“

- å¢åˆ æ”¹æŸ¥çš„æ“ä½œï¼Œ æ€æƒ³å°±æ˜¯å‡½æ•°å¼ç¼–ç¨‹

  1. æ‰©å±•è¿ç®—ç¬¦
  2. éå†è·Ÿæ–°
  3. è¿‡æ»¤åˆ é™¤

- reduxAPI `store.subscribe(listener)`, æ¯æ¬¡ store.dispatch çš„æ—¶å€™å°±ä¼šè§¦å‘ listener(æ˜¯ä¸€ä¸ªå‡½æ•°)

è¿™æ ·ç†è§£ `store.subscribe(listenercallback)`, listenercallback å›è°ƒç›‘å¬å™¨æ˜¯åœ¨ store.dispatch(action) çš„æ—¶å€™å›è°ƒçš„

- ä¸‹ä¸€ä¸ªé‡ç‚¹å°±æ˜¯ router + è¡¨å•éªŒè¯çš„é—®é¢˜ï¼ˆä¹Ÿå°±æ˜¯è¡¨å•çš„è¦ææ˜ç™½ï¼‰
- å¸ƒå±€ï¼š table å¸ƒå±€ã€flex å¸ƒå±€ã€grid å¸ƒå±€ã€float å¸ƒå±€ï¼ŒUI æ¡†æ¶çš„æ …æ ¼ç³»ç»Ÿçš„æ€ä¹ˆä½¿ç”¨ã€‚
- ä¸‹ä¸€ä¸ªåœ¨ react ä¸­ç»§æ‰¿ redux
- å‰ç«¯ç™»å½•çš„éœ€è¦å¹²äº›ä»€ä¹ˆï¼Ÿï¼Ÿï¼Ÿ
- react-redux
  [ç†è§£ react-redux](https://www.jianshu.com/p/81e9e9eaf8fa)
- [webpack/cli](https://webpack.js.org/api/cli/) è¿™é‡Œé¢åŒ…å«äº† webpackcli çš„ä¸€äº›æ•°æ® --config --mode --env --exec ç­‰ç­‰ // TODO: éœ€è¦å…¨é¢çš„ç†è§£æœ‰åŠ©äº webpack
- Object.define(obj, {}) api çš„ç†Ÿç»ƒä½¿ç”¨

- webpack-line-command

  commonOptions
  webpack --help
  webpack -h
  webpack --config example.config.js
  webpack --json
  webpack --json > stats.json
  environmentOptions
  webpack --env prod => "prod"
  webpack --env.prod => {prod: true}
  webpack --env.prod=1 => {prod: 1}
  webpack --env.prod=foo => {prod: 'foo'}
  webpack --env.prod=foo --env.min=> {prod: 'foo', min: true}
  webpack --env.prod=foo --env min=> [{prod: 'foo'}, "min"]
  webpack --env.prod=foo --env.prod=bar => {prod: ['foo', 'bar']}

  configOptions
  --config
  --config-register, -r
  --config-nsmr
  --env
  --mode
  outputOptions
  --output-chunk-filename
  --output-jsonp-function
  --output-library
  --output-library-target
  --output-path
  --output-pathinfo
  --output-public-path
  --output-source-map-filename
  --build-delimiter
  debugOptions
  --debug
  --devtool
  --progress
  --display-error-details
  moduleOptions
  --module-bind
  --module-bind-post
  --module-bind-pre
  watchOptions
  --watch, -w
  --watch-aggregate-timeout
  --watch-poll
  --watch-stdin, --stdin
  optimizeOptions
  --optimize-max-chunks
  --optimize-chunk-size
  --optimize-minimize
  resolveOptions
  --resolve-alias
  --resolve-extensions
  --resolve-loader-alias
  statsOptions
  --color, --colors
  --no-color, -no-colors
  --display
  --display-cached
  --display-cached-assets
  --display-chunks
  --display-depth
  --display-entrypoints
  --display-error-details
  --display-exclude
  --display-max-modules
  --display-modules
  --display-optimization-bailout
  --display-origins
  --display-provided-exports
  --display-reasons
  --display-used-exports
  --hide-modules
  --sort-asserts-by
  --sort-chunks-by
  --sort-modules-by
  --verbose
  advancedOptions
  --bail
  --cache
  --define
  --hot
  --labeled-modules
  --plugin
  --prefetch
  --provide
  --records-input-path
  --records-output-path
  --records-path
  --target
  shortcuts
  -d === --debug --devtool cheap-module-eval-source-map --output-pathinfo
  -p === --optimize-minimize --define process.env.NOade_ENV="production"
  profiling
  --profile
  -progress

- sublime ä¸‹è½½æ’ä»¶ä¸èƒ½è¿æ¥çš„é—®é¢˜æ˜¯è¢«å¢™äº†ï¼Œè®¿é—®ä¸äº†ä¸€ä¸ªä¸€ä¸ª

```js
"channels": [
		"https://raw.githubusercontent.com/SuCicada/channel_v3.json/master/channel_v3.json"
	],
```

- react-router-dom æ•™ç¨‹ [react-router-dom æ•™ç¨‹](https://reacttraining.com/react-router/)
  åŸºæœ¬ç”¨æ³•
  Router
  Link
  route å°±æ˜¯è·¯ç”±ç»„ä»¶å­˜åœ¨çš„ä½ç½®ï¼Œå¯¹æ¯” router-view

**ä¸æ‡‚**

```jsx
// what is :direction(asc|desc)
<Route path="/order/:direction(asc|desc)" component={ComponentWithRegex} />

// what is match.params.id
const Child = ({ match }) => (
  <div>
    <h3>ID: {match.params.id}</h3>
  </div>
)

// what is match.param.direction
const ComponentWithRegex = ({ match }) => (
  <div>
    <h3>Only asc/desc are allowed: {match.params.direction}</h3>
  </div>
)
```

- ç†è§£å‡½æ•°ç»„ä»¶å’Œç±»ç»„ä»¶ï¼Œå‡½æ•°ç»„ä»¶æ˜¯æ— çŠ¶æ€ç»„ä»¶ï¼Œæ²¡æœ‰ this,å±•ç¤ºæ€§çš„ç»„ä»¶
- æ‰“å¼€ react-router-dom é‡Œé¢å«æœ‰å¤šä¸ª js æ–‡ä»¶ï¼Œå°±æ˜¯æˆ‘ä»¬éœ€è¦çš„ NavLink ç­‰ç™»å½•è·¯ç”±çš„ç»„ä»¶ç­‰ç­‰
- [å…³äº withRouter çš„è§£é‡Š](https://segmentfault.com/q/1010000015964411)
- react çš„ children
- ç†Ÿæ‚‰ es5 çš„ç”±å­¦ä¹  mobx éœ€è¦å·©å›ºçš„ api
- [router ä¸­çš„ NavLink å’Œ Link çš„åŒºåˆ«](https://blog.csdn.net/lhjuejiang/article/details/80366839)
- [react è¡¨å•éªŒè¯](https://www.npmjs.com/package/rc-form)
- [subl å‘½ä»¤è¡Œ](https://blog.csdn.net/mldxs/article/details/50394803)
- markdown çš„ diff å†™æ³•ä¸çŸ¥é“æ˜¯ä»å“ªä¸ªäººå†™ markdown æ–‡ä»¶å­¦åˆ°äº†ï¼Œæœ€å…ˆçœ‹åˆ°å°±æ˜¯ webpack
- ä¸€ä¸ªæ€è€ƒ markdown çš„ä»£ç å—çš„åˆ°å¯ä»¥æ”¯æŒå¤šç§æ ¼å¼ [ä»£ç å—è¯­è¨€æ”¯æŒæƒ…å†µ](https://www.cnblogs.com/qyf404/p/5019631.html)ï¼Œ å¦‚ä½•æ‰©å±•ï¼Ÿï¼Ÿï¼Ÿ

```diff

+ dfsdf
- dfsd

```

- [TypeScript-React-Starter](https://github.com/Microsoft/TypeScript-React-Starter#typescript-react-starter) åˆ›å»º react + typescript çš„åº”ç”¨ä½¿ç”¨è„šæ‰‹æ¶ï¼Œè¿™æ˜¯åœ¨å¾®è½¯çš„ä»“åº“é‡Œé¢çš„
- å°† axios å­¦ä¹ ä¸€éï¼Œå‘é€è¯·æ±‚éªŒè¯æ˜¯å¦è¿‡æ—¶
- react ä¸­åŠ¨æ€çš„å¼•å…¥ç»„ä»¶çš„æ–¹æ³•
- react å‡½æ•°ç»„ä»¶ä¼ å€¼çš„æ–¹å¼ï¼Œåªæœ‰ä¸€ä¸ª propsï¼Œ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ es6+çš„å¯¹è±¡çš„è§£æ„å°†æ•°æ®è§£æ„å‡ºæ¥ï¼Œè¿™æ ·å°±ä¸èƒ½ç›´è§‚çš„çœ‹å‡ºæ•°æ®æ˜¯ä» propsï¼Œæˆ‘ä»¬å°±å¯ä½¿ç”¨æ•°æ®ã€‚ä½¿ç”¨äº† es6+è¯­æ³•
- react-router-dom ä¸­çš„ promptPrompt,æ˜¯å¹²å•¥çš„ï¼Ÿï¼Ÿ[Prompt](https://blog.csdn.net/Lucky_Q/article/details/81561685),æ˜¯ä¸€ä¸ªå¼¹å‡ºæ¡†æç¤ºï¼Œ é€‚ç”¨äºä»€ä¹ˆåœºæ™¯å‘¢ï¼Ÿ
- react-router-dom ä¸­çš„ Switchï¼Œå¹²å•¥çš„ï¼Ÿ[è§£é‡Š react-router-dom ç”¨æ³•](https://blog.csdn.net/qq_38719039/article/details/79962770)ï¼Œæœ€åè®²è§£äº† Switch, è¿˜æ˜¯å…·æœ‰è¯­ä¹‰çš„ï¼Œåªç¬¦åˆæ¡ä»¶çš„ä¸€ä¸ª
- Array.find(). Array.filter()
- å°† routes å…¨éƒ¨çš„ç»Ÿä¸€çš„åˆ°ä¸€èµ·ï¼Œç„¶åæ˜¯ä½¿ç”¨ map å°†æ•°æ®éå†å‡ºæ¥ï¼ï¼
- åœ¨ jsx å†™å†…è”æ ·å¼ï¼Œåœ¨ style é‡Œé¢å†™ css å±æ€§å¯¹è±¡ `TransitionsGroup`å’Œ`CSSTransitionGroup`çš„åŒºåˆ«ï¼Œä»¥åŠä½¿ç”¨åœºæ™¯ã€‚
- ä½¿ç”¨ react-transtion-group æ¥å†™è¿‡æ¸¡åŠ¨ç”»
- React-Router çš„ Link å’Œ NavLink çš„ä½¿ç”¨åŒºåˆ« [Link å’Œ NavLink](https://blog.csdn.net/lhjuejiang/article/details/80366839)
- [ä½¿ç”¨ Switch å’Œ åŠ¨æ€è·¯](https://www.cnblogs.com/yangmengsheng/p/5973586.html)
- ant design çš„è¡¨å•éªŒè¯å’Œæ™®é€šçš„ react çš„é¡¹ç›®çš„è¡¨å•éªŒè¯çš„æ–¹æ³•
- è¡¨å•éªŒè¯çš„å¯ä»¥ validate-async
- [ç”¨ react æ¥å®ç°ä¸€ä¸ªç”¨æˆ·ç™»å½•æ¡†é—®é¢˜](https://segmentfault.com/q/1010000004053019?sort=created) é¡¹ç›®çš„åœ°å€: https://github.com/yyong008/qingcheng-react/blob/master/package.json, è¿™æ˜¯ä¸€ä¸ªè€çš„é¡¹ç›®ï¼Œæˆ‘ä»¬è¦ä»é‡Œé¢å¸æ”¶æ€æƒ³ï¼Œé‡Œé¢å¥½åƒè¿˜æœ‰è‡ªå·±å°è£…äº†è‡ªå·± xhr å‘é€è¯·æ±‚ï¼ï¼

- å‘¨ä¸€ä¹‹å‰è¦æ€»ç»“å‡º react + react-router-dom+reduxï¼Œå…·å¤‡åŸºç¡€çš„ react å¼€å‘èƒ½åŠ›ï¼Œè¡¨å•çš„éªŒè¯ä»¥ antd çš„è¡¨å•ä¸ºä¾‹ä½¿ç”¨ rc-form æ¥å¤„ç†
- [ref çš„ä½¿ç”¨](https://github.com/liangklfangl/react-article-bucket/blob/master/react-ref/index.md)
- [å®˜æ–¹å…³äº ref ä½¿ç”¨](https://reactjs.org/docs/refs-and-the-dom.html) å‘ç°åœ¨ä¸åŒçš„ react ç‰ˆæœ¬ä¸­æœ‰ä¸åŒçš„ä½¿ç”¨ï¼Œåœ¨å®é™…çš„ä½¿ç”¨è¿‡ç¨‹ä¸­è¦æ³¨æ„è¿™ä¸ªé—®é¢˜ï¼Œä¸Šé¢çš„å·²ç»èƒ½å¾ˆå¥½çš„ç†è§£å…³äº ref å›è°ƒå‡½æ•°çš„ä½¿ç”¨äº†

- react ç”Ÿå‘½å‘¨æœŸ[shouldComponentUpdate é¿å…ç»„ä»¶æ— æ„ä¹‰æ¸²æŸ“](https://blog.csdn.net/sinat_17775997/article/details/82690456)

- ç”± axios å¼•å‘çš„è¯·æ±‚çš„ä»£ç†
- æ³¨æ„åœ¨ä½¿ç”¨ props çš„æ—¶å€™ï¼Œä¸€èˆ¬å°±æ˜¯ä½¿ç”¨å¯¹è±¡çš„è§£æ„æ–¹å¼æ¥ä½¿ç”¨ props ç®€å•æ–¹ä¾¿

- [å¦‚ä½•ç†è§£ Redux ä¸­ subscribe çš„ä½œç”¨](https://segmentfault.com/q/1010000012332458)
- [react-redux æ•™ç¨‹](https://ninghao.net/video/5656)
- è¿™ç§æ— çº¿é¼ æ ‡æ²¡æœ‰ç”µäº†ï¼Œå¾ˆéš¾ç”¨å•Šï¼Œéƒ½ä¸çŸ¥é“æ˜¯æ²¡æœ‰ç”µäº†ï¼Œä»¥åç”¨å®Œäº†å°±å§ç”µæ± æ‰£ä¸‹æ¥ã€‚
- [ç†è§£ redux-thunk](https://www.jianshu.com/p/b1a039feac26) redux-thunk å…è®¸ä½ åœ¨ action é‡Œé¢è¿”å›å‡½æ•°
- [redux-thunk çš„ä¸€ç‚¹è®¤è¯†](https://www.jianshu.com/p/e1acf613adf6)

## å…³äº redux-thunk å’Œ redux-sagas å¯¹æ¯”

- [ä» redux-thunk åˆ° redux-saga å®è·µ](https://segmentfault.com/a/1190000009928167)
- [redux-saga](https://redux-saga-in-chinese.js.org/)
- [mapStateToPropsï¼ŒmapDispatchToProps çš„ä½¿ç”¨è¯¦è§£](https://blog.csdn.net/suwu150/article/details/79415085)
- [React å’Œ Redux ä¹‹é—´çš„ä¾èµ–æ³¨å…¥ connectï¼ˆmapStateToPropsã€mapDispatchToPropsï¼‰](https://blog.csdn.net/haoaiqian/article/details/78614709)
- [Redux å…¥é—¨æ•™ç¨‹ï¼ˆä¸‰ï¼‰ï¼šReact-Redux çš„ç”¨æ³•](http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html)

- ä½¿ç”¨ connect() å‡½æ•°ç”Ÿæˆä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œå°±æ²¡æœ‰å¿…è¦çš„å†™ä¸€ä¸ªå®¹å™¨ç»„ä»¶ï¼Œéœ€è¦çš„ä¸œè¥¿æˆ‘ä»¬æ˜ å°„è¿‡å»å°±å¯ä»¥äº†ï¼
- react-redux å°±å¹²äº†è¿™ä¹ˆä¸€ä»¶äº‹ï¼Œä¸å†™å®¹å™¨ç»„ä»¶ï¼Œé€šè¿‡æ˜ å°„æ¥å¤„ç†
- [æ— çŠ¶æ€ç»„ä»¶(Stateless Component) ä¸é«˜é˜¶ç»„ä»¶](https://blog.csdn.net/uwenhao2008/article/details/79584573) stateless ç¼ºç‚¹å°±æ˜¯æ²¡æœ‰ç”Ÿå‘½å‘¨æœŸï¼Œæˆ‘ä»¬åœ¨ä½¿ç”¨çš„æ—¶å€™è¿˜æ˜¯è¦é…åˆæœ‰è½¬æ€ç»„ä»¶ï¼ react-redux çš„æ€æƒ³å°±æ˜¯ ç”¨æˆ·æä¾›æ— è½¬æ€ç»„ä»¶ä¹Ÿå°±æ˜¯ UI ç»„ä»¶ï¼Œreact-redux ç”Ÿæˆå®¹å™¨ç»„ä»¶ï¼Œä¹Ÿå°±æ˜¯æœ‰çŠ¶æ€ç»„ä»¶æ–¹å¼ï¼Œä½¿ç”¨ç”Ÿå‘½å‘¨æœŸå‡½æ•°ç­‰

## å®é™…å¼€å‘

[å®˜æ–¹](https://www.styled-components.com)
[Styled-ComponentsğŸ‘Œ](https://segmentfault.com/a/1190000014682665)
[styled-components ç¼ºç‚¹](https://www.cnblogs.com/little-ab/p/7068568.html)

## react æŠ€æœ¯æ ˆ

[react æŠ€æœ¯æ ˆ](http://www.ruanyifeng.com/blog/2016/09/react-technology-stack.html)
[Immutable.js äº†è§£ä¸€ä¸‹ï¼Ÿ](https://www.jianshu.com/p/0fa8c7456c15)
[facebook immutable.js æ„ä¹‰ä½•åœ¨ï¼Œä½¿ç”¨åœºæ™¯ï¼Ÿ](https://www.zhihu.com/question/28016223)
[React ä¸ºå•¥éå¾—ä½¿ç”¨ immutable.js](http://react-china.org/t/react-immutable-js/3770)
[immutableJS å®˜æ–¹ç½‘ç«™](https://immutable-js.github.io/immutable-js/)
[PureComponent](https://segmentfault.com/a/1190000014979065)

## react å°è£…

[nestJS](https://www.jianshu.com/p/8d070e2b39a5)
[dva](https://dvajs.com/api/)
[UmiJS](https://umijs.org/zh/)

- issues
  state ä½¿ç”¨ state.getIn()æ˜¯æ²¡æœ‰ getIn è¿™ä¸ªæ–¹æ³•çš„(06-09)
- [create-react-app](https://facebook.github.io/create-react-app/docs/proxying-api-requests-in-development)
- [create-react-app 2 é¡¹ç›®å¦‚ä½•ä»£ç†è¯·æ±‚è·¯å¾„](https://www.jianshu.com/p/5485c9750f10)

- react é¡¹ç›®çš„æ•°æ®æ¨¡æ‹Ÿå·¥ä½œå°±å¯ä½¿ç”¨ json æ•°æ®æ¥æ¨¡æ‹Ÿ

- ä»£ç å†™çš„ä¸å¥½ä¸€ä¸ªå°±æ˜¯æ²¡æœ‰æ•´ä½“çš„å¸ƒå±€ï¼Œå¯¹çŸ¥è¯†çš„æ²¡æœ‰æ•´ä½“çš„è®¤è¯†ï¼Œæ‰ä¼šé€ æˆ

- react-redux å’Œ vuex çš„åœ¨ store çš„æä¾›çš„æ–¹å¼ä¸Šçš„åŒºåˆ«ï¼Œ

  - react-redux æ˜¯ Provider ä¼ å€¼
  - vuex æ˜¯é€šè¿‡é€šè¿‡æ’ä»¶å°† store æ³¨å…¥åˆ° Vue å®ä¾‹ä¸­

## åˆ†æä½¿ç”¨ immutable çš„å˜åŒ–ï¼

åœ¨è¯·æ±‚æ•°æ®ï¼Œæ˜¯ç”¨çš„ redux-thunk æ¥å¾—åˆ°çš„æ•°æ®ï¼šæ˜¯ json æ•°æ®, å°†jsoné‡Œé¢çš„æ•°æ®çš„data.dataéƒ¨åˆ†çš„ç”Ÿæˆï¼Œåšç¬¬äºŒæ¬¡actionçš„åˆ†å‘ï¼Œ
ç¬¬äºŒæ¬¡åˆ†å‘å°±æ˜¯ä½¿ç”¨ ImmutableJS çš„fromJSæ¥å¤„ç†æ•°æ®ï¼Œè½¬æ¢æˆ Map/List(Deep copy) [fromJS](https://immutable-js.github.io/immutable-js/docs/#/fromJS),[æ·±åº¦æµ…å‡ºimmutable.js](https://www.cnblogs.com/yoissee/p/6007251.html), åœ¨ reducer åˆ¤æ–­actionType åå¤„ç†æ•°æ®æ“ä½œï¼Œéœ€è¦å°†æ•°æ®é‡æ–°çš„è¯»å–å‡ºæ¥ï¼Œç„¶åè¿”å›redux,æ›´æ–°æ‰æ•°æ®ã€‚

è·¯ç¨‹å°±æ˜¯ï¼šæ•´ä¸ªstateå°±æ˜¯ä¸€ä¸ªImmutableåŒ…è£…çš„æ•°æ®ç»“æ„åœ¨ï¼Œ reducer.js é‡Œé¢åˆå§‹åŒ–é»˜è®¤å€¼çš„æ—¶å€™å°±äº§ç”Ÿæ•°æ®çš„åŒ…è£…èµ·æ¥ï¼Œç„¶åè¯·æ±‚çš„æ¥é¢æ•°æ®ä¹Ÿè¦ä½¿ç”¨fromJSå¤„ç†æ•°æ®ï¼ï¼

åŸå§‹JSçš„æ•°æ®ä½¿ç”¨fromJSæ–¹æ³•åŒ…è£…ä¸€æ¬¡ï¼Œæˆ‘ä»¬è¦è¯»å–çš„æ—¶å€™æˆ‘ä»¬æœ‰ä¸¤ç§æ–¹æ³•

ä½¿ç”¨state.getIn()æ–¹æ³•ï¼Œä½¿ç”¨å¯¹è±¡çš„å±æ€§ï¼ˆæˆ‘ç†è§£ä¸ºå‘½åç©ºé—´ï¼‰æ¥å¤„ç†state.header.get()

éœ€è¦è®°ä½çš„æ˜¯ï¼š åœ¨ reducer è¿”å› newState çš„æ—¶å€™è¿˜æ˜¯ Immutable çš„æ•°æ®ç»“æ„ï¼Œé‚£æˆ‘ä»¬å¦‚ä½•ä¿®æ”¹Immutableæ•°æ®å‘¢ï¼Ÿ æˆ‘ä»¬ä½¿ç”¨ set æ–¹æ³•

æ‰€ä»¥è¿™é‡Œé…å¥—ä½¿ç”¨çš„æ–¹æ³•æ˜¯ fromJS()/state.set()/state.header(), ä¸‰ä¸ªä¸åŒçš„æ–¹æ³•é…å¥—ä½¿ç”¨ï¼ï¼

## 2æœˆ27è¿›è¡Œåˆ°äº†07-02 ä¹Ÿå°± src ç›®å½•

å¾®ä¿¡å°ç¨‹åºè·å–ç”¨æˆ·ä¿¡æ¯
[å¾®ä¿¡å°ç¨‹åºä¹‹é¡µé¢æ‹¦æˆªå™¨](https://segmentfault.com/a/1190000011044371)

[ä½¿ç”¨Vue2.0åœ¨httpè¯·æ±‚å¤´ä¸­æ·»åŠ tokenï¼ˆè¯¦è§£å«ä»£ç ï¼‰](https://blog.csdn.net/James_liPeng/article/details/86137184)

[ä¼ é€’access_tokenå‚æ•°çš„æ­£ç¡®æ–¹å¼](http://andaily.com/blog/?p=500)

[åœ¨vueä¸­å¦‚ä½•è·å–tokenï¼Œå¹¶å°†tokenå†™è¿›header==> ç®€å•çš„ç™»å½•é€»è¾‘](https://blog.csdn.net/qq_34825875/article/details/79569579)

[Vue æ‹¦æˆªå™¨å¯¹tokenè¿‡æœŸå¤„ç†](https://blog.csdn.net/qq_36947128/article/details/79061844)
[axioså°è£…ï¼Œä½¿ç”¨æ‹¦æˆªå™¨ç»Ÿä¸€å¤„ç†æ¥å£ï¼Œè¶…è¯¦ç»†çš„æ•™ç¨‹](https://blog.csdn.net/qq_38145702/article/details/81558816)

## å¾®ä¿¡å°ç¨‹åº

- ä½¿ç”¨promiseå°†å¾®ä¿¡å°ç¨‹åºåˆç†çš„å°è£…ï¼Œä½¿å¾—å…·æœ‰äº†polyfillçš„æ•ˆæœã€‚å¹³æ»‘çš„ä½¿ç”¨ .then æ‰§è¡Œå°±åé¢çš„ä»£ç 
- promise.finally() çš„å†™æ³• [Promise.finally](http://es6.ruanyifeng.com/#docs/promise#Promise-prototype-finally)

> finallyæ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œã€‚è¯¥æ–¹æ³•æ˜¯ ES2018 å¼•å…¥æ ‡å‡†çš„ã€‚

- è´­ç‰©è½¦æ€ä¹ˆå†™æ˜¯æœ€åˆç†çš„ï¼Ÿï¼Ÿä½¿ç”¨æ•°æ®ç›‘å¬ï¼Œä»€ä¹ˆå…¨å±€å˜åŒ–ï¼Œä»€ä¹ˆå±€éƒ¨å˜åŒ–ï¼Œé€ æˆæ•°æ®æ›´æ–°è¦çš„å°±æ˜¯è¿™ç§æ•ˆæœ

- [å¾®ä¿¡å°ç¨‹åºç›‘å¬æ•°æ®çš„å˜åŒ–](https://blog.csdn.net/xuyangxinlei/article/details/81408200)
- [è®©å°ç¨‹åºæ”¯æŒasync-await](https://segmentfault.com/a/1190000015691620?utm_source=tag-newest)
- ä½¿ç”¨promiseæ¥å°è£…å¾®ä¿¡å°ç¨‹åºapi
- æ›´è¿œçš„æƒ³æ³•ï¼Œæˆ‘ä»¬ä½¿ç”¨ promise æ¥å®ç°å¼‚æ­¥apiçš„promiseåŒ–, é‚£ä¹ˆä½¿ç”¨async å’Œ generatorå‡½æ•°èƒ½ä¸èƒ½å®ç°è¿™ä¸­å¼‚æ­¥åŒ–å‘¢ï¼Ÿgenerator è¯­æ³•æ¯”è¾ƒå‘ï¼Œä¸ç”¨ä¹Ÿç½¢ï¼Œä½†æ˜¯èƒ½ä¸èƒ½å®ç°ä¸€ä¸ªasynã€awaitæ–¹æ³•å‘¢ï¼Œæˆ‘ä»¬çŸ¥é“å¯ä»¥åœ¨å°ç¨‹åºé‡Œé¢å¼•å…¥è¿™ä¸€æ–¹æ¡ˆ
- çŸ­æ¿å¾®ä¿¡å°ç¨‹åºã€å…¶ä»–çš„çŸ­æ¿å°±æ˜¯éŸ³é¢‘ã€è§†é¢‘ä»æ¥æ²¡æœ‰æ¥è§¦è¿‡ã€‚canvas ç»˜å›¾ä¹Ÿåšå¾—å°‘ï¼ï¼
[axiosçš„æ‹¦æˆªå™¨ä»£ç åº”è¯¥æ”¾åˆ°è¯·æ±‚ä»£ç ä»€ä¹ˆåœ°æ–¹ï¼Ÿ](https://segmentfault.com/q/1010000010107675)
- ä½¿ç”¨react+axiosï¼Œä½¿ç”¨æ‹¦æˆªå™¨æ‹¦æˆªå‘é€çš„è¯·æ±‚ï¼Œå®¢æˆ·åœ¨ headeré‡Œé¢æ·»åŠ ä¸€äº›ä¸œè¥¿ï¼Œä½†æ˜¯ä¸èƒ½ä¿®é«˜å‘responseå’Œurlï¼Œåœ¨configlé‡Œé¢è™½ç„¶æ˜¯ä¿®æ”¹äº†ï¼Œä½†æ˜¯å“åº”çš„è¿˜æ˜¯é€šè¿‡åŸæ¥å‘è¯·æ±‚çš„åœ°å€å¾—åˆ°çš„å“åº”ã€‚

## ç†è§£åŸºäº react-redux çš„æ•°æ®æµå‘

é¦–ç›¸ åˆ›å»º storeï¼Œstore æ˜¯é€šè¿‡ react-redux çš„ Provider æ³¨å…¥åˆ°ç»„ä»¶é‡Œé¢çš„ï¼Œæ³¨å…¥ä¹‹åæˆ‘ä»¬å°±å¯ä½¿ç”¨ stateäº†ã€‚

åœ¨store/ ä¸­æœ‰å‡ ä¸ªé‡è¦çš„æ–‡ä»¶ï¼Œ

index.js --- ç®¡å®¶ç”¨äºå¯¼å‡º ruducer ç”¨äº reducer çš„åˆå¹¶ï¼Œåˆå¹¶ä½¿ç”¨çš„æ˜¯ `redux-immutable`çš„ combineReducersæ–¹æ³•ï¼Œåˆå¹¶çš„ä½¿ç”¨æˆ‘ä»¬ä½¿ç”¨å‘½åç©ºé—´æ¥åˆå¹¶å¤„ç†ï¼Œå°±æ˜¯ç»™reducerä¸€ä¸ªkey

-- reducer.js å¤§ç»„ä»¶å…·æœ‰è‡ªå·±çš„store/reducer.js åé¢åˆå¹¶æˆä¸€ä¸ªï¼Œreducerçš„ä¸»è¦çš„åŠŸèƒ½å°±æ˜¯è¿”å›æ–°çš„state ç»™store, ä¸€èˆ¬åˆå§‹åŒ–çš„æ•°æ®ä¹Ÿæ”¾åœ¨ç›¸åº”çš„reduceré‡Œé¢ï¼Œreduceræœ¬èº«æ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œæ¥å— state å’Œ action ä½œä¸ºå‚æ•°ï¼Œ è¿”å›çš„æ˜¯ä¸€ä¸ª store éœ€è¦çš„ newStateï¼Œstore è‡ªå·±è¿™ä¸ª newState æ›´æ–°æ‰

-- constants.js å°±æ˜¯ä¸€ä¸ªå†™ action.type çš„å¸¸é‡ï¼Œç”¨å¤„å°±æ˜¯å¾ˆå¥½çš„å®šä½é”™è¯¯ã€‚

-- actionCreator.js ä¸ºä»€ä¹ˆè¦æŠŠ action å†™æˆå‡½--å‡½æ•°å¼ç¼–ç¨‹ï¼Œé£æ ¼æ›´åŠ çš„ç»Ÿä¸€ï¼Œä½¿ç”¨å‡½æ•°ï¼Œå¯ä»¥æ–¹ä¾¿çš„ä¼ é€’å‚æ•°ç»™ action çš„payLoad

è¿˜æœ‰ä¸èƒ½å¿˜è®°çš„å°±æ˜¯åœ¨react-reduxä¸­æˆ‘ä»¬ä½¿ç”¨çš„æ˜¯connectï¼Œä¸ç”¨æ„Ÿåˆ°æœ‰ä»€ä¹ˆé«˜ç«¯çš„å°±æ˜¯ä¸ç”¨é‡æ–°å†™å®¹å™¨ç»„ä»·äº†ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜è¦ä¸ºæ­¤åœ¨UIç»„ä»¶é‡Œé¢æ·»åŠ state å’Œ disptch çš„æ˜ å°„ï¼Œç„¶ååœ¨ä¼ é€’åˆ° connect å‡½æ•°å½“ä¸­

å…³äºmapStateï¼Œç›´æ¥å°±æ˜¯ä½¿ç”¨stateæ¥è·å–æ•°æ®ï¼Œè¿™é‡Œä½¿ç”¨immutableJSæ¥æŒä¹…åŒ–çš„æ•°æ®çš„è¦ç”¨å…¶å¯¹åº”çš„æ–¹æ³•æ¥å¤„ç†ï¼ï¼
å…³äºdispatch, æ˜¯è¿™æ ·çš„mapDisPatchæ˜¯ä¸€ä¸ªå‡½æ•°ï¼Œè¿™é‡Œå­˜æ”¾åœ¨ç»„ä»¶çš„éœ€è¦çš„æ–¹æ³•ï¼Œä¸€èˆ¬éœ€è¦åˆ†å‘çš„actionä¹Ÿæ˜¯æ”¾åœ¨æ”¾åœ¨è¿™äº›æ–¹æ³•é‡Œé¢çš„ï¼ï¼

ç°åœ¨è¿™äº›å¥—è·¯å°±åªæœ‰ImmutableJSå¯¹æ•°æ®æŒä¹…åŒ–çš„æ€æƒ³æ²¡æœ‰è§£å†³äº†

é¦–å…ˆä¸æ˜ç™½çš„æœ‰ getIn(), æˆ‘æ¯æ¬¡ä½¿ç”¨çš„æ—¶å€™ï¼Œæç¤ºæ²¡æœ‰ getIn è¿™ä¸ªæ–¹æ³•ï¼Œåªèƒ½ä½¿ç”¨ get() æ–¹æ³•è·å–æ•°æ®ï¼Œå¯èƒ½æ˜¯æˆ‘åœ¨å“ªé‡Œå…³äºæ•°æ®çš„å†™æ³•ä¸ä¸€è‡´å§ï¼
å…¶æ¬¡å°±æ˜¯å…³äº mergeæ–¹æ³•--- è·Ÿwebpack-merge å¥½åƒå‡ºä¸å¤šï¼Œåˆç†çš„åˆå¹¶ï¼Œ

ä¸€ä¸ªé—®é¢˜ï¼Œ å°±æ˜¯æˆ‘ä»¬åœ¨å†™é¡µé¢çš„æ—¶å€™æ•°æ®ä¸€å¯¹ä¸€ï¼Œä½†æ˜¯åœ¨è¯·æ±‚æ•°æ®çš„æ—¶å€™ï¼Œæˆ‘ä»¬å¯èƒ½å°±ä¼šæœ‰ä¸€äº›æ•°æ®æ˜¯ä¸€èµ·è¿”å›æ¥çš„ï¼Œè¿™é‡Œå°±éœ€è¦æˆ‘ä»¬åˆå¹¶ä½¿ç”¨state.merge()ï¼Œä¸»è¦çš„çš„ç›®çš„è¿˜èƒ½ç®€åŒ–ä½ çš„å¼€å‘ï¼

å¤šä¼¦å‡ éå°±å‘½ååŸºäºreact-redux æ˜¯å¹²äº›ä»€ä¹ˆäº†ï¼ï¼

æˆ‘ä»¬è¦ç©hooksäº†